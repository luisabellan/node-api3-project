"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var express=require("express"),cors=require("cors"),router=express.Router(),posts=require("../posts/postDb");function validatePost(){return function(t,o,e){return t.body?t.body.text?void 0:o.status(400).json({message:"missing required text field"}):o.status(400).json({message:"missing post data"})}}router.get("",function(t,o){posts.get().then(function(t){o.status(200).json(t)}).catch(function(t){return console.log(t),o.status(500).json({error:"The posts information could not be retrieved."})})}),router.get("/:id",function(t,o){console.log(posts),posts.getById(t.params.id).then(function(t){return console.log(_typeof(t)),o.body?o.status(200).json(t):o.status(404).json({message:"The post with the specified ID does not exist."})}).catch(function(t){return console.log(t),o.status(500).json({error:"The post information could not be retrieved."})})}),router.delete("/:id",function(t,o){posts.findById(t.params.id).then(function(t){if(0===t.length)return o.status(404).json({message:"The post with the specified ID does not exist."})}),posts.remove(t.params.id).then(function(t){o.status(204).json()}).catch(function(t){o.status(500).json({error:"The post could not be removed"})})}),router.put("/:id",function(t,o){if(!t.body.title||!t.body.contents)return o.status(400).json({errorMessage:"Please provide title and contents for the post."})}),module.exports=router;